from aiogram import Router
from aiogram.filters import CommandStart
from aiogram.fsm.context import FSMContext
from aiogram.types import Message

from common.models import User
from common.settings import settings
from tgbot_app.keyboards import main_kb

router = Router()


@router.message(CommandStart())
async def start(message: Message, state: FSMContext, user: User):
    await state.clear()

    text = (f"ü§ñ <b>–ü—Ä–∏–≤–µ—Ç, —è –±–æ—Ç {settings.APP_NAME}</b>\n"
            f"–í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±—ã–µ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ –∏–ª–∏ —Å–µ—Ä–≤–∏—Å—ã, –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç, –∫–∞—Ä—Ç–∏–Ω–∫–∏, –≤–∏–¥–µ–æ, —á–µ–ª–æ–≤–µ—á–µ—Å–∫—É—é "
            f"—Ä–µ—á—å –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–µ—Ä–≤–∏—Å–∞–º–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤.\n\n"
            f"üíé <b>–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–∫–µ–Ω—ã?</b>\n–ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –≤ –Ω–µ–π—Ä–æ—Å–µ—Ç—å –∏–ª–∏ —Å–µ—Ä–≤–∏—Å —Å—Ç–æ–∏—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –∫–æ–ª-–≤–æ —Ç–æ–∫–µ–Ω–æ–≤. "
            f"–¢–æ–∫–µ–Ω—ã —ç—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –≤–∞–ª—é—Ç–∞, –∏—Ö –í—ã –º–æ–∂–µ—Ç–µ –∫—É–ø–∏—Ç—å –∏–ª–∏ –ø–æ–ª—É—á–∏—Ç—å –µ–∂–µ–º–µ—Å—è—á–Ω–æ –ø–æ –ø–æ–¥–ø–∏—Å–∫–∏.\n\n"
            f"<b>–°–æ–≤–µ—Ç—ã –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:</b>\n"
            f"‚Äì –ó–∞–¥–∞–≤–∞–π—Ç–µ –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã, —Ä–∞—Å–ø–∏—Å—ã–≤–∞–π—Ç–µ –¥–µ—Ç–∞–ª—å–Ω–µ–µ.\n"
            f"‚Äì –ù–µ –ø–∏—à–∏—Ç–µ –µ—Ä—É–Ω–¥—É, –∏–Ω–∞—á–µ –ø–æ–ª—É—á–∏—Ç–µ –µ—ë –∂–µ –≤ –æ—Ç–≤–µ—Ç.\n"
            f"‚Äì –ü–æ–≥—É–≥–ª–∏—Ç–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, —á—Ç–æ–±—ã –Ω–µ —Ç—Ä–∞—Ç–∏—Ç—å —Ç–æ–∫–µ–Ω—ã –Ω–∞ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏.\n\n"
            f"<i>* ‚Äî –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –∏–ª–∏ –∫–æ–º–∞–Ω–¥—É, –í—ã —Ä–∞–∑—Ä–µ—à–∞–µ—Ç–µ –±–æ—Ç—É –ø—Ä–∏—Å—ã–ª–∞—Ç—å –í–∞–º —Å–æ–æ–±—â–µ–Ω–∏—è –∏ —Ä–∞—Å—Å—ã–ª–∫–∏. "
            f"–£ –ø—Ä–µ–º–∏—É–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ä–µ–∫–ª–∞–º—ã –Ω–µ—Ç.</i>")
    markup = await main_kb()

    await message.answer(text=text, reply_markup=markup)
